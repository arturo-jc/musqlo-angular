<div class="flex">
  <h1 class="flex-1">My Schedule</h1>
  <div class="flex align-items-center">
    <button
      pButton
      pRipple
      type="button"
      icon="pi pi-cog"
      label="Settings"
      class="p-button-raised p-button-text p-button-plain"
      (click)="op.toggle($event)"
      ></button>
    <button 
      pButton
      pRipple
      type="button"
      icon="pi pi-save"
      label="Save"
      class="p-button p-button-raised p-button-success ml-2"
      (click)="saveSchedule()"
      ></button>
  </div>
</div>
<div #workoutList class="flex">
  <div 
    *ngFor="let workout of workouts"
    class="workout mr-2"
    style="width: 14rem;"
    [attr.data-event]="workout | workoutTemplateEventData "
    >
    <div>
      <a
        class="fc-event fc-daygrid-event fc-draygrid-block-event fc-h-event"
        [style.backgroundColor]="workout.backgroundColor"
        [style.borderColor]="workout.backgroundColor"
        >
        <span class="fc-event-main">
          <span class="fc-event-title fc-event-sticky" [style]="fullCalendar.titleStyle">{{ workout.name }}</span>
          <div [style]="fullCalendar.bodyStyle">
            <div *ngFor="let exercise of workout.exercises" [style]="fullCalendar.exerciseStyle">
              <div [style]="fullCalendar.exerciseTypeStyle">
                {{ exercise.exerciseType }}
              </div>
              <div>
                x {{ exercise.sets.length }}
              </div>
            </div>
          </div>
        </span>
      </a>
    </div>
    <ul>
    </ul>
  </div>
</div>
<full-calendar #calendar [options]="calendarOptions"></full-calendar>

<p-overlayPanel #op>
    <ng-template pTemplate>
        <div class="flex justify-content-between align-items-center setting" style="min-width: 14rem">
          <span><i class="pi pi-calendar-plus mr-2"></i>Biweekly</span>
          <p-inputSwitch [(ngModel)]="biweekly" (onChange)="updateCalendarView()"></p-inputSwitch>
        </div>
        <div class="flex justify-content-between align-items-center setting">
          <span><i class="pi pi-clock mr-2"></i>Show times</span>
          <p-inputSwitch [(ngModel)]="showTimes" (onChange)="updateCalendarView()"></p-inputSwitch>
        </div>
    </ng-template>
</p-overlayPanel>
